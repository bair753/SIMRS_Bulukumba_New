<div class="panel panel-default container_12">
    <div class="panel-heading"><label class='title' c-label item="item">Input Insiden Keselamatan Pasien</label>
    </div>
    <div class="panel-body">
        <div class="grid_12">
            <div class="grid_11">
                <div class="grid_3" style="margin-top: 10px;">
                    <div class="grid_12">
                        <label c-label item="item" c-label-text="Jenis Keselamatan"></label>
                    </div>
                    <div class="grid_12">
                        <input style="width: 100%;" kendo-combo-box k-ng-model="cari.jenisKeselamatan"
                            k-data-text-field="'jeniskesalamatan'" k-data-value-field="'id'" k-filter="'contains'"
                            k-auto-bind="false" k-data-source="listJenisKeselamatan"
                            k-on-change='getCombojenisKeselamatan(cari.jenisKeselamatan)' />
                    </div>
                </div>
                <div class="grid_3" style="margin-top: 10px;">
                    <label c-label c-label-text="Keselamatan"></label>
                    <input style="width: 100%;" kendo-combo-box k-ng-model="cari.Keselamatan"
                        k-data-text-field="'keselamatan'" k-data-value-field="'id'" k-filter="'contains'"
                        k-auto-bind="false" k-data-source="listKeselamatan" />
                </div>
                <div class="grid_2" style="margin-top: 10px;">
                    <div class="grid_12">
                        <label c-label item="item">Departemen / Unit</label>
                    </div>
                    <div class="grid_12">
                        <input style="width: 100%;" kendo-combo-box k-ng-model="cari.Departemen"
                            k-data-text-field="'departemen'" k-data-value-field="'objectdepartemenfk'"
                            k-filter="'contains'" k-auto-bind="false" k-data-source="listDepartemen" />
                    </div>
                </div>
                <div class="grid_4" style="margin-top: 5px;">
                    <label c-label c-label-text="Periode"></label>
                    <div class="grid_6">
                        <div class="grid_12">
                            <input style="width: 100%" k-ng-model="cari.tglAwal" kendo-datetimepicker
                                placeholer="yyyy-MM-dd HH:mm" k-format="'yyyy-MM-dd HH:mm'" />
                        </div>
                    </div>
                    <div class="grid_6">
                        <div class="grid_12">
                            <input style="width: 100%" k-ng-model="cari.tglAkhir" kendo-datetimepicker
                                placeholer="yyyy-MM-dd HH:mm" k-format="'yyyy-MM-dd HH:mm'" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="grid_1" style="margin-top: 15px;">
                <label c-label c-label-text=""></label>
                <em style="margin-top:6px;" ng-click='cariFilter()' id="iconButton" data-role="button"
                    class="k-button k-button-icon k-primary" role="button" aria-disabled="false" tabindex="0"><span
                        class="k-sprite k-icon k-i-search">Refresh</span></em>
                <em style="margin-top:6px;" ng-click='resetFilter()' id="iconButton" data-role="button"
                    class="k-button k-button-icon k-primary" role="button" aria-disabled="false" tabindex="0"><span
                        class="k-sprite k-icon k-i-cancel">Refresh</span></em>
            </div>
        </div>
        <div class="grid_12">
            <div class="panel-body grid_12">
                <div kendo-grid id="gridMaster" k-data-source="dataSource" options="optionGridMaster"
                    k-ng-model="dataSelect" ng-click="klikGrid(dataSelect)" k-selectable="'row'"></div>
            </div>
        </div>
        <div class="grid_12 place_button" style="float:left;" ng-hide="isHide">
            <div class="grid_2" style="float:right;">
                <c-button class="error" style="width: 100%; font-size: 24px; padding:0px, margin:0px;" item="item"
                    size="36" position=" 'right'" ng-click="hapus()">
                    <span class="title">Hapus</span>
                </c-button>
            </div>
            <div class="grid_2" style="float:right">
                <c-button style="width: 100%; font-size: 24px; padding:0px, margin:0px;" size="36" position=" 'right'"
                    ng-click="edit()">
                    <span class="title">Edit</span>
                </c-button>
            </div>
            <div class="grid_2" style="float:right;">
                <c-button style="width: 100%; font-size: 24px; padding:0px, margin:0px;" item="item" size="36"
                    position=" 'right'" ng-click="Tambah()">
                    <span class="title">Tambah</span>
                </c-button>
            </div>
        </div>
    </div>
</div>

<!-- popup konfirmasi -->
<div kendo-window="dialogPopup" k-title="'Tambah'" k-width="750" k-height="350" k-visible="false"
    k-on-close="customClicked()">
    <div class="panel panel-default panel-white container_12">
        <div class="grid_12">
            <div class="grid_3">
                <div class="grid_12">
                    <label c-label item="item" c-label-text="Jenis Keselamatan"></label>
                </div>
                <div class="grid_12">
                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.KeselamatanInput"
                        k-data-text-field="'jeniskeselamatan'" k-data-value-field="'jeniskesalamatanfk'" k-filter="'contains'"
                        k-auto-bind="false" k-data-source="listKeselamatanInput" disabled/>
                </div>
            </div>
            <div class="grid_9">
                <div class="grid_12">
                    <label c-label item="item" c-label-text="Keselamatan"></label>
                </div>
                <div class="grid_12">
                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.KeselamatanInput"
                        k-data-text-field="'keselamatan'" k-data-value-field="'id'" k-filter="'contains'"
                        k-auto-bind="false" k-data-source="listKeselamatanInput" />
                </div>
            </div>
        </div>
        <div class="grid_12">
            <div class="grid_4">
                <div class="grid_12">
                    <label c-label item="item">Departemen / Unit</label>
                </div>
                <div class="grid_12">
                    <input style="width: 100%;" kendo-combo-box k-ng-model="item.Departemen"
                        k-data-text-field="'departemen'" k-data-value-field="'objectdepartemenfk'" k-filter="'contains'"
                        k-auto-bind="false" k-data-source="listDepartemen" />
                </div>
            </div>
            <div class="grid_4">
                <div class="grid_12">
                    <label c-label item="item">Tgl. Insiden</label>
                </div>
                <div class="grid_12">
                    <input style="width: 100%" k-ng-model="item.TglKejadian" kendo-datetimepicker
                        placeholer="yyyy-MM-dd HH:mm" k-format="'yyyy-MM-dd HH:mm'" />
                </div>
            </div>
            <div class="grid_4">
                <div class="grid_12">
                    <label c-label item="item">Jumlah Insiden</label>
                </div>
                <div class="grid_12">
                    <input c-text-box type="input" filter="numeric" class="k-textbox" ng-model="item.JmlInsiden" />
                </div>
            </div>
        </div>
    </div>

    <div class="k-edit-buttons k-state-default pull-right" style="margin-top:10px">
        <button class="k-button k-button-icontext k-primary k-grid-update" ng-click="Save()" ng-disabled='disabledSave'>
            <span class="k-icon k-update"></span>Simpan
        </button>
        <button class="k-button k-button-icontext k-grid-cancel" ng-click="Batal()">
            <span class="k-icon k-cancel"></span>Batal
        </button>
    </div>
</div>
<div class="grid_12" style="margin-top:60px">
    <div ng-include='"../app/template/Shared/TemplateLoading"'></div>
</div>
<style>
    p {
        font-size: 16px;
        text-align: center;
    }

    .k-window-titlebar {
        /* background-color: #10c4b2; */
        font-weight: 800;
    }

    .k-i-close {
        display: none;
    }
</style>