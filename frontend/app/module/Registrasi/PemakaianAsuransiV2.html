<style type="text/css">
    label[required]:after {
        content: ' *';
        color: red;
    }
    .md-dialog-container {
        -webkit-box-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        -webkit-box-align: center;
        -webkit-align-items: center;
        align-items: center;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 999999;
        overflow: hidden;
    }
</style>
<div class="grid_12">
    <c-form item='item'>
        <div ng-include='"../app/template/Shared/HeaderDataPasien"'></div>
        <div class="grid_12">
            <div class="panel panel-default">
                <div class="panel-heading" style="margin-top:10px" ng-show="bpjs">Data Rujukan</div>
                <div class="panel-body" ng-show="bpjs">
                    <c-form item="model">
                        <div class="grid_12">
                            <div class="grid_4">
                                <label c-label required>Asal Rujukan</label>

                                <div ng-repeat="stat in listAsalRujuk | orderBy:'order'">
                                    <div class="grid_4">
                                        <md-radio-group ng-model="model.asalRujukan">
                                            <md-radio-button value="{{stat.id}}" class="md-primary">{{stat.nama}}
                                            </md-radio-button>
                                        </md-radio-group>

                                    </div>
                                </div>

                                <!-- <label class="c-label" required>Asal Rujukan</label>
                                <input kendo-combo-box tyle="width:100%" k-ng-model="model.asalRujukan"
                                    k-data-text-field="'asalrujukan'" k-data-value-field="'id'" k-filter="'contains'"
                                    k-auto-bind="false" k-data-source="sourceAsalRujukan" /> -->
                            </div>
                            <div class="grid_4">
                                <div class="grid_12" style="margin-top:5px">
                                    <input type="checkbox" class="k-checkbox" ng-model="model.cekNomorRujukan"
                                        id="cekNomorRujukan">
                                    <label class="c-label k-checkbox-label" for="cekNomorRujukan"
                                        required>{{captionRujukan}}</label>
                                </div>
                                <div class="grid_12" style="position:relative">
                                    <input c-text-box type="input" class="k-textbox" ng-model="model.noRujukan"
                                        ng-blur="checkDataRujukan()" />
                                    <img ng-show="isLoadingRujukan" style="position:absolute;right:0;top:7px;"
                                        height="24" src="stylesheets\Flat\loading-image.gif" />
                                </div>
                            </div>

                            <div class="grid_4" ng-hide="model.faskesRujukan===true" style="margin-top:5px">
                                <input type="checkbox" class="k-checkbox" name="faskesRujukan" id="faskesRujukan"
                                    ng-model="model.faskesRujukan">
                                <label class="c-label k-checkbox-label" for="faskesRujukan">Nama Asal Rujukan (Nama
                                    Tempat Rujukan)</label>
                                <input type="string" class="k-textbox" ng-model="model.namaAsalRujukan">
                            </div>
                            <div class="grid_4" ng-show="model.faskesRujukan===true" style="margin-top:5px">
                                <input type="checkbox" class="k-checkbox" name="faskesRujukan" id="faskesRujukan"
                                    ng-model="model.faskesRujukan">
                                <label class="c-label k-checkbox-label" for="faskesRujukan">Nama Asal Rujukan (Nama
                                    Tempat Rujukan)</label>

                                <input kendo-combo-box="combobox" tyle="width:100%"
                                    k-ng-model="model.namaAsalRujukanBrid" k-data-text-field="'nama'"
                                    k-data-value-field="'kode'" k-filter="'contains'" k-auto-bind="false"
                                    k-data-source="listPpkRujukan" k-options="comboBoxOptions" />
                                <!-- <input kendo-combo-box style="width:100%" k-ng-model="model.namaAsalRujukanBrid"
                                    k-data-text-field="'nama'" k-data-value-field="'kode'" k-filter="'contains'"
                                    k-auto-bind="false" k-data-source="listPpkRujukan" /> -->
                            </div>
                        </div>
                        <div class="grid_12">
                            <div class="grid_4">
                                <label class="c-label">Tanggal Rujukan</label>
                                <input style="width: 100%" k-ng-model="model.tglRujukan" kendo-datetimepicker
                                    k-max="now" placeholer="yyyy-MM-dd HH:mm" k-format="'yyyy-MM-dd HH:mm'"
                                    parsedate="yyyy-MM-dd HH:mm" />
                            </div>
                            <div class="grid_4">
                                <label class="c-label" required>Diagnosa (Penyakit) Rujukan</label>
                                <input kendo-combo-box tyle="width:100%" k-ng-model="model.diagnosa"
                                    k-data-text-field="'nama'" k-data-value-field="'id'" k-filter="'contains'"
                                    k-auto-bind="false" k-data-source="sourceDiagnosa" />
                            </div>
                        </div>
                    </c-form>
                </div>
                <div class="panel-heading" style="margin-top:10px">Data Kartu Peserta</div>
                <div class="panel-body">
                    <c-form item="model">
                        <div class="grid_12">
                            <div class="grid_3" style="margin-top:5px">
                                <label class="c-label">Nama Penjamin</label>
                                <input kendo-combo-box tyle="width:100%" k-ng-model="item.kelompokPasien"
                                    k-data-text-field="'kelompokpasien'" k-data-value-field="'id'" k-filter="'contains'"
                                    k-auto-bind="false" k-data-source="listKelompokPasien" />
                            </div>
                            <div class="grid_3" style="margin-top:5px">
                                <label class="c-label">Institusi Asal Pasien</label>
                                <input kendo-combo-box tyle="width:100%" k-ng-model="model.institusiAsalPasien"
                                    k-data-text-field="'namarekanan'" k-data-value-field="'id'" k-filter="'contains'"
                                    k-auto-bind="false" k-data-source="sourceRekanan"
                                    k-on-change="DataGolonganAsuransi()" />
                            </div>
                            <div class="grid_1" style="margin-top:25px">
                                <input type="checkbox" class="k-checkbox" ng-model="model.sendiri" id="cekSendiri"
                                    ng-click="Sendiri(model.sendiri)">
                                <label c-label class="k-checkbox-label" for="cekSendiri">Sendiri</label>
                            </div>
                            <div class="grid_2" style="margin-top:25px;">
                                <input type="checkbox" class="k-checkbox" ng-model="model.hitori" id="cekHistori"
                                    ng-click="historiPelayanan(model.hitori)">
                                <label c-label class="k-checkbox-label" for="cekHistori">Histori Pelayanan</label>
                            </div>
                        </div>
                        <div class="grid_12">

                            <div class="grid_3">
                                <div class="grid_6" style="margin-top: -5px">
                                    <input type="checkbox" class="k-checkbox" ng-model="model.cekNomorPeserta"
                                        id="cekPesertaNoKartu" ng-click="ceklisNoKartu(model.cekNomorPeserta)">
                                    <label class="c-label k-checkbox-label" for="cekPesertaNoKartu" required>No. Kartu
                                        Peserta</label>
                                </div>
                                <div class="grid_6" style="margin-top: -5px">
                                    <input type="checkbox" class="k-checkbox" ng-model="model.cekNomorRujukanMulti"
                                        id="cekNomorRujukanMulti"
                                        ng-click="ceklisNomorRujukanMulti(model.cekNomorRujukanMulti)">
                                    <label class="c-label k-checkbox-label" for="cekNomorRujukanMulti">Multi
                                        Record</label>
                                </div>
                                <!-- style="font-weight: bold; background-color: #FFC312;color: black;" -->
                                <div class="grid_12" style="position:relative;">
                                    <input ng-blur="checkKepesertaanByNoBpjs()" class="k-textbox"
                                        ng-model="model.noKepesertaan">
                                    <img ng-show="isLoadingNoKartu" style="position:absolute;right:0;top:7px;"
                                        height="24" src="stylesheets\Flat\loading-image.gif" />
                                </div>
                                <!-- <div class="grid_12" style="position:relative" ng-hide="noBPJS">
                                    <input class="k-textbox" ng-model="model.noKepesertaan">
                                </div> -->
                            </div>
                            <div class="grid_3">
                                <label class="c-label">Nama Peserta</label>
                                <input c-text-box type="input" class="k-textbox" ng-model="model.namaPeserta">
                            </div>
                            <div class="grid_3">
                                <label class="c-label">Tanggal Lahir</label>
                                <input style="width: 100%" k-ng-model="model.tglLahir" kendo-date-picker
                                    placeholer="dd-MM-yyyy" k-format="'dd-MM-yyyy'" />
                            </div>
                            <div class="grid_3">
                                <div class="grid_12" style="margin-top:5px">
                                    <input type="checkbox" class="k-checkbox" ng-model="model.cekNikPeserta"
                                        id="cekNikPeserta">
                                    <label class="c-label k-checkbox-label" for="cekNikPeserta">No. KTP / SIM
                                        Peserta</label>
                                </div>
                                <div class="grid_12" style="position:relative">
                                    <input ng-blur="checkKepesertaanByNik()" class="k-textbox"
                                        ng-model="model.noIdentitas">
                                    <img ng-show="isLoadingNIK" style="position:absolute;right:0;top:7px;" height="24"
                                        src="stylesheets\Flat\loading-image.gif" />
                                </div>
                            </div>
                        </div>
                        <div class="grid_12">
                            <div class="grid_3">
                                <div class="grid_6" style="margin-top: -5px;">
                                    <label class="c-label" required>DPJP Yg Melayani</label>
                                </div>
                                <div class="grid_6" style="margin-top: -5px;">
                                    <input type="checkbox" class="k-checkbox" ng-model="model.sendiriaa"
                                        id="cekSendiriaa" ng-click="Sendiriaa(model.sendiriaa)">
                                    <label c-label class="k-checkbox-label" for="cekSendiriaa">Cek Semua DPJP</label>
                                </div>

                                <div class="grid_12" style="margin-top:-5px">
                                    <input kendo-combo-box k-ng-model="model.DPJPMelayani"
                                        style="width:100%; font-weight: bold; " k-data-text-field="'nama'"
                                        k-data-value-field="'kode'" k-filter="'contains'" k-auto-bind="false"
                                        k-data-source="listDPJP2" />
                                    <!-- background-color: #FFFF00;color: black; -->
                                </div>
                            </div>
                            <div class="grid_3">
                                <label class="c-label">Alamat Peserta</label>
                                <input c-text-box type="input" class="k-textbox" ng-model="model.alamatPeserta">
                            </div>
                            <div class="grid_3">
                                <label class="c-label">Jenis Peserta</label>
                                <input c-text-box type="input" class="k-textbox" ng-model="model.jenisPeserta">
                            </div>
                            <div class="grid_3">
                                <label class="c-label" required>No Telpon</label>
                                <input c-text-box type="input" class="k-textbox" ng-model="model.noTelpons">
                            </div>
                        </div>
                    </c-form>
                </div>
                <div class="panel-heading" style="margin-top:10px" ng-show="bpjs">Pemakaian Asuransi</div>
                <div class="panel-body" ng-show="bpjs">
                    <c-form item="model">
                        <div class="grid_12">
                            <div class="grid_3" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Hubungan Pasien</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.hubunganPeserta"
                                        k-data-text-field="'hubunganpeserta'" k-data-value-field="'id'"
                                        k-filter="'contains'" k-auto-bind="false" k-data-source="sourceHubunganPasien"
                                        k-on-change="textAnakKe()" />
                                </div>
                            </div>
                            <div class="grid_3" style="margin-top:5px" ng-show="isCheckSEP">
                                <div class="grid_12" ng-repeat="Data in ListAsuransi">
                                    <input type="checkbox" class="k-checkbox" name="{{Data.name}}"
                                        ng-model="model.generateNoSEP" id="{{Data.name}}" value="{{Data.id}}"
                                        ng-check="model.generateNoSEP.name">
                                    <label c-label class="k-checkbox-label" for="{{Data.name}}"
                                        required>{{Data.name}}</label>
                                </div>
                                <div class="grid_12" style="margin-top:10px">
                                    <input type="string" class="k-textbox" ng-model="model.noSep"
                                        ng-blur="checkKepesertaanBySep()">
                                    <img ng-show="isLoadingSEP" style="position:absolute;right:0;top:7px;" height="24"
                                        src="stylesheets\Flat\loading-image.gif" />
                                </div>
                            </div>
                            <!-- <div class="grid_4" style="margin-top:5px" ng-hide="isCheckSEP">
                                <div class="grid_12">
                                    <label class="c-label">No SEP</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input type="string" class="k-textbox" ng-model="model.noSep">
                                </div>
                            </div> -->
                            <div class="grid_2" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Tanggal SEP</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input style="width: 100%" k-ng-model="model.tglSEP" kendo-datetimepicker
                                        k-max="now" placeholer="yyyy-MM-dd HH:mm" k-format="'yyyy-MM-dd HH:mm'"
                                        parsedate="yyyy-MM-dd HH:mm" />
                                </div>
                            </div>
                            <div class="grid_3" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Kelas Rawat</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.kelasDitanggung"
                                        k-data-text-field="'namakelas'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-auto-bind="false" k-data-source="sourceKelasDitanggung" />
                                </div>
                            </div>
                            <div class="grid_1" style="margin-top:20px;">
                                <input type="checkbox" class="k-checkbox" ng-model="model.naikKelas" id="naikKelas">
                                <label c-label class="k-checkbox-label" for="naikKelas">Naik Kelas</label>
                            </div>
                            <div class="grid_1" style="margin-top:5px;">
                                <input type="checkbox" class="k-checkbox" id="kelastitip" ng-model="model.kelastitip"
                                    ng-click="KelasTitip(model.kelastitip)">
                                <label class="k-checkbox-label" for="kelastitip"><b>Kelas Titip</b></label>
                            </div>
                            <!-- <div class="grid_1" style="margin-top:5px;">
                                <input type="checkbox" class="k-checkbox" ng-model="model.kelastitip">
                                <label c-label class="k-checkbox-label" ng-click="KelasTitip(model.kelastitip)">Kelas Titip</label>
                            </div> -->
                        </div>
                        <div class="grid_12" ng-show="model.naikKelas==true">
                            <div class="grid_3" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Naik Ke Kelas</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.klsRawatNaik"
                                        k-data-text-field="'namakelas'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-auto-bind="false" k-data-source="litKelasNaik" />
                                </div>
                            </div>
                            <div class="grid_3" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Pembiayaan </label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.pembiayaan"
                                        k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-auto-bind="false" k-data-source="listBiaya" />
                                </div>
                            </div>
                            <div class="grid_3" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label" required>Penanggung Jawab</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input c-text-box type="input" class="k-textbox" ng-model="model.penanggungJawab">
                                </div>
                            </div>
                        </div>
                        <div class="grid_12">
                            <div class="grid_3" style="margin-top:5px">
                                <label class="c-label">Catatan</label>
                                <textarea ng-model="model.catatan" type="string" class="k-textbox" row="2"
                                    style="width:100%; margin-top:5px"></textarea>
                            </div>
                            <div class="grid_3">
                                <div class="grid_12" style="margin-top:5px">
                                    <input type="checkbox" class="k-checkbox" ng-model="model.cekNoSkdp" id="cekNoSkdp"
                                        ng-click="generateSKDP(model.cekNoSkdp)">
                                    <label class="c-label k-checkbox-label" for="cekNoSkdp" required> No.Surat
                                        Kontrol/SKDP</label>
                                </div>
                                <div class="grid_12" style="position:relative">
                                    <input c-text-box type="input" class="k-textbox" ng-model="model.skdp" />
                                    <img ng-show="isLoadingSKDP" style="position:absolute;right:0;top:7px;" height="24"
                                        src="stylesheets\Flat\loading-image.gif" />
                                </div>

                            </div>
                            <!-- <div class="grid_3" style="margin-top:5px">
                                <label class="c-label">No Surat SKDP</label>
                                <input type="input" class="k-textbox" ng-model="model.skdp">
                            </div> -->
                            <div class="grid_3">
                                <div class="grid_9" style="margin-top:-5px">
                                    <label class="c-label" required> DPJP Pemberi Surat SKDP/SPRI </label>
                                </div>
                                <div class="grid_3" style="margin-top:-5px">
                                    <input type="checkbox" class="k-checkbox" ng-model="model.sendiria" id="cekSendiria"
                                        ng-click="Sendiria(model.sendiria)">
                                    <label c-label class="k-checkbox-label" for="cekSendiria">Semua</label>
                                </div>

                                <input kendo-combo-box style="width:100%" k-ng-model="model.dokterDPJP"
                                    k-data-text-field="'nama'" k-data-value-field="'kode'" k-filter="'contains'"
                                    k-auto-bind="false" k-data-source="listDPJP" />
                            </div>
                            <div class="grid_3">
                                <div class="grid_12">
                                    <label class="c-label">Tujuan Kunjungan </label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.tujuanKunj"
                                        k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-auto-bind="false" k-data-source="listTujuan" />
                                </div>
                            </div>
                        </div>
                        <div class="grid_12">

                            <div class="grid_3">
                                <div class="grid_12">
                                    <label class="c-label">Flag Procedure </label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.flagProcedure"
                                        k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-auto-bind="false" k-data-source="listFlag"
                                        k-on-change="changeFlag(model.flagProcedure)" />
                                </div>
                            </div>
                            <div class="grid_3" ng-show="model.flagProcedure!=undefined">
                                <div class="grid_12">
                                    <label class="c-label">Penunjang </label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.kdPenunjang"
                                        k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-auto-bind="false" k-data-source="listPenunjang" />
                                </div>
                            </div>
                            <div class="grid_3">
                                <div class="grid_12">
                                    <label class="c-label">Assesment </label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.assesmentPel"
                                        k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-auto-bind="false" k-data-source="listAsesmen" />
                                </div>
                            </div>
                        </div>
                    </c-form>
                </div>
                <div class="panel-heading" style="margin-top:10px" ng-show="bpjs"><span c-translate>Laka Lantas</span>
                    <span class="icon fa fa-chevron-circle-down" ng-show="!isShowLaka" style="right:10px"
                        ng-click="showLakaLantas()"></span>
                    <span class="icon fa fa-chevron-circle-up" ng-show="isShowLaka" style="right:10px"
                        ng-click="showLakaLantas()"></span>
                </div>
                <!-- <div class="panel-heading" style="margin-top:10px" ng-show="bpjs">Laka Lantas</div> -->
                <div class="panel-body" ng-show="bpjs && isShowLaka ">
                    <c-form item="model">
                        <div class="grid_4" style="margin-top:5px">
                            <div class="grid_12">
                                <label class="c-label">Status Lakalantas (BPJS)</label>
                                <input kendo-combo-box k-ng-model="model.lakalantas" k-data-text-field="'name'"
                                    k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="false"
                                    k-data-source="listLakaLantas" />
                                <!-- <div style="margin-top:10px">
                                    <input type="checkbox" class="k-checkbox" name="lakalantas" id="lakalantas"
                                        ng-model="model.lakalantas" ng-click="cekLaka(model.lakalantas)">
                                    <label class="c-label k-checkbox-label" for="lakalantas">Lakalantas</label>
                                </div> -->
                            </div>
                            <div class="grid_12" style="margin-top:20px">
                                <fieldset>
                                    <legend>Detail Lokasi Kejadian</legend>
                                    <div class="grid_12">
                                        <div class="grid_3" style="margin-top:10px">
                                            <label class="c-label">Propinsi</label>
                                        </div>
                                        <div class="grid_9">

                                            <input kendo-combo-box k-ng-model="model.propinsi"
                                                k-data-text-field="'nama'" k-data-value-field="'kode'"
                                                k-filter="'contains'" k-auto-bind="false"
                                                k-data-source="listPropinsi" />
                                        </div>
                                    </div>
                                    <div class="grid_12">
                                        <div class="grid_3" style="margin-top:10px">
                                            <label class="c-label">Kab/Kota</label>
                                        </div>
                                        <div class="grid_9">
                                            <input kendo-combo-box style="width:100%" k-ng-model="model.kabupaten"
                                                k-data-text-field="'nama'" k-data-value-field="'kode'"
                                                k-filter="'contains'" k-auto-bind="false"
                                                k-data-source="listKabupaten" />
                                        </div>
                                    </div>
                                    <div class="grid_12">
                                        <div class="grid_3" style="margin-top:10px">
                                            <label class="c-label">Kecamatan</label>
                                        </div>
                                        <div class="grid_9">
                                            <input kendo-combo-box style="width:100%" k-ng-model="model.kecamatan"
                                                k-data-text-field="'nama'" k-data-value-field="'kode'"
                                                k-filter="'contains'" k-auto-bind="false"
                                                k-data-source="listKecamatan" />
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        <div class="grid_4" style="margin-top:5px">
                            <div class="grid_12">
                                <label class="c-label">Tanggal Lakalantas</label>
                                <input style="width: 100%" k-ng-model="model.tglLakalantas" kendo-datepicker k-max="now"
                                    placeholer="yyyy-MM-dd" k-format="'yyyy-MM-dd'" parsedate="yyyy-MM-dd" />
                            </div>
                            <div class="grid_12" style="margin-top:10px">
                                <div class="grid_12">
                                    <fieldset>
                                        <legend>Detail Suplesi</legend>
                                        <div class="grid_12" style="margin-top:10px">
                                            <input type="checkbox" class="k-checkbox" name="suplesi" id="suplesi"
                                                ng-model="model.suplesi">
                                            <label class="c-label k-checkbox-label" for="suplesi">Suplesi</label>
                                        </div>
                                        <div class="grid_12" style="margin-top:10px">
                                            <label class="c-label">Nomor SEP Suplesi</label>
                                            <input c-text-box type="input" class="k-textbox"
                                                ng-model="model.nomorSepSuplesi">
                                        </div>
                                    </fieldset>
                                </div>
                                <div class="grid_12">
                                    <label class="c-label">Keterangan</label>
                                    <input c-text-box type="input" class="k-textbox" ng-model="model.keteranganLaka">
                                </div>

                            </div>
                        </div>
                        <div class="grid_4" style="margin-top:5px">
                            <div class="grid_12">
                                <fieldset>
                                    <legend>Penjamin Lakalantas</legend>
                                    <div class="grid_12">
                                        <div class="grid_6" ng-repeat="data in listPenjaminLaka">
                                            <input type="checkbox" ng-checked="data.isChecked" class="k-checkbox"
                                                name="{{data.name}}" id="{{data.name}}" value="{{data.id}}"
                                                ng-click="addListPenjamin(data)">
                                            <label class="c-label k-checkbox-label"
                                                for="{{data.name}}">{{data.name}}</label>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                            <div class="grid_12" style="margin-top:10px">
                                <fieldset>
                                    <!-- <legend>Penjamin Lakalantas</legend> -->
                                    <div class="grid_12" style="margin-top:5px">
                                        <input type="checkbox" class="k-checkbox" name="poliEksekutif"
                                            id="poliEksekutif" ng-model="model.poliEksekutif">
                                        <label class="c-label k-checkbox-label" for="poliEksekutif">Poli
                                            Eksekutif</label>
                                    </div>
                                    <div class="grid_12" style="margin-top:10px">
                                        <input type="checkbox" class="k-checkbox" name="cob" id="cob"
                                            ng-model="model.cob">
                                        <label class="c-label k-checkbox-label" for="cob">COB</label>
                                    </div>
                                    <div class="grid_12" style="margin-top:10px">
                                        <input type="checkbox" class="k-checkbox" name="katarak" id="katarak"
                                            ng-model="model.katarak">
                                        <label class="c-label k-checkbox-label" for="katarak">Katarak</label>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </c-form>
                </div>




                <!-- asuransi lain dan perusahaan -->

                <div class="panel-heading" style="margin-top:10px" ng-show="asuransilain">Pemakaian Asuransi & Data
                    Rujukan</div>
                <div class="panel-body" ng-show="asuransilain">
                    <c-form item="model">
                        <div class="grid_12">
                            <div class="grid_2" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Hubungan Pasien</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.hubunganPeserta"
                                        k-data-text-field="'hubunganpeserta'" k-data-value-field="'id'"
                                        k-filter="'contains'" k-auto-bind="false" k-data-source="sourceHubunganPasien"
                                        k-on-change="textAnakKe()" />
                                </div>
                            </div>

                            <div class="grid_2" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Kelas Ditanggung</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.kelasDitanggung"
                                        k-data-text-field="'namakelas'" k-data-value-field="'id'" k-filter="'contains'"
                                        k-auto-bind="false" k-data-source="sourceKelasDitanggung" />
                                </div>
                            </div>
                            <div class="grid_2" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Asal Rujukan</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input kendo-combo-box tyle="width:100%" k-ng-model="model.asalRujukan"
                                        k-data-text-field="'asalrujukan'" k-data-value-field="'id'"
                                        k-filter="'contains'" k-auto-bind="false" k-data-source="sourceAsalRujukan" />
                                </div>
                            </div>
                            <div class="grid_3" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Nama Asal Rujukan (Nama Tempat Rujukan)</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input type="string" class="k-textbox" ng-model="model.namaAsalRujukan">
                                </div>
                            </div>

                            <div class="grid_2" style="margin-top:5px">
                                <div class="grid_12">
                                    <label class="c-label">Tanggal Rujukan</label>
                                </div>
                                <div class="grid_12" style="margin-top:5px">
                                    <input style="width: 100%" k-ng-model="model.tglRujukan" kendo-date-time-picker
                                        k-max="now" k-format="'dd-MM-yyyy HH:mm'" />
                                </div>
                            </div>
                        </div>
                    </c-form>
                </div>
                <!-- end asuransi lain -->
            </div>
        </div>
        <div class="grid_12">
            <div class="grid_1">

            </div>
            <div class="grid_11">
                <div ng-hide='isSimpan' class="grid_2" style="float:right">
                    <button ng-show="!isLoading" kendo-button style="width: 100%" class="success" ng-click="Save()"
                        ng-hide='hideBtnSimpan'><i class="fa fa-save"></i>Simpan</button>
                </div>
                <div class="grid_2" style="float:right">
                    <button ng-show="!isLoading" kendo-button style="width: 100%" class="primary" is-back><i
                            class="fa fa-arrow-left"></i>Kembali</button>
                </div>  
                
                <div class="grid_2" style="float:right">
                    <button ng-show="!isLoading" kendo-button style="width: 100%" class="success"
                        ng-click="cetakSuratJaminanPelayanan()"><i class="fa fa-print"></i>Cetak Surat Jaminan Pelayanan</button>
                </div>

                <div class="grid_2" style="float:right">
                    <button ng-show="!isLoading" kendo-button style="width: 100%" class="success"
                        ng-click="cetakSEP()"><i class="fa fa-print"></i>Cetak SEP</button>
                </div>

                <div class="grid_2" style="float:right">
                    <button ng-show="!isLoading" kendo-button style="width: 100%" class="primary"
                        ng-click="popRujukan()"><i class="fa fa-stethoscope"></i>Rujukan</button>
                </div>
                <div class="grid_2" style="float:right">
                    <button ng-show="!isLoading" kendo-button style="width: 100%" class="cancel"
                        ng-click="DeleteSep()"><i class="fa fa-trash"></i>Hapus SEP</button>
                </div>


                <!-- <div ng-include='"../app/template/Shared/TemplateButtonRegistrasiNew " ' style="margin-top:30px"
                    ng-hide="hideSimpan"></div> -->
            </div>
        </div>
        <div kendo-window="popUpHistoriPelayananPeserta" k-title="'Histori Pelayanan Peserta'" k-width="1500"
            k-visible="false" k-on-open="win2visible = true" k-on-close="win2visible = false">
            <div class="panel panel-default container_12" style="padding: 0px 10px;">
                <fieldset class="effect-shadow" style=" border-radius: 4px">
                    <legend id="filterData">
                        <a ng-click="showAndHide()">Daftar Histori</a>
                    </legend>
                    <div class="grid_12">
                        <div id="kGrids" kendo-grid
                            k-data-source="dataSourceHistoriPeserta" 
                            k-selectable="'row'"
                            k-options="columnHistoriPeserta" 
                            k-pageable="'true'"
                            k-sortable="'true'"
                            k-ng-model="dataHistorySelect" 
                            k-resizable="'true'">
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
        <div kendo-window="popupRujukan" k-title="'Riwayat Rujukan'" k-width="1200" k-visible="false"
            k-on-open="win2visible = true" k-on-close="win2visible = false">
            <div class="panel panel-default container_12" style="padding: 0px 10px;">
                <fieldset class="effect-shadow" style=" border-radius: 4px">
                    <legend id="filterData">
                        <a ng-click="showAndHide()">Daftar Rujukan</a>
                    </legend>
                    <div class="grid_12">

                        <kendo-grid id="kGrids" data-source="sourceNoRujukanMulti" options="columnNoRujukanMulti"
                            k-pageable="'true'" k-sortable="'true'" k-resizable="'true'" k-ng-model="dataNoRujukanMulti"
                            ng-click="klikRuj(dataNoRujukanMulti)">
                        </kendo-grid>

                    </div>
                </fieldset>
            </div>

        </div>
        <div kendo-window="popUpRSPRI" k-title="'Rencana Kontrol/SPRI'" k-width="1300" k-visible="false"
            k-on-open="win2visible = true" k-on-close="win2visible = false">
            <div class="panel panel-default container_12" style="padding: 0px 10px;">
                <div ng-cloak  class="panel panel-default container_12">
                    <md-content>
                        <md-tabs md-dynamic-height md-border-bottom md-selected="myVar">
                            <md-tab label="Riwayat">
                                <md-content class="md-padding">
                                    <div class="panel panel-default container_12">
                                        <div class="panel-body">
                                            <div class="grid_12">
                                                <div class="grid_3">
                                                    <label c-label>Filter</label>
                                                    <div class="grid_12">
                                                        <input style="width: 100%; " kendo-combo-box
                                                            k-ng-model="kontrol.filter"
                                                            k-data-text-field="'nama'"
                                                            k-filter="'contains'"
                                                            k-data-value-field="'kode'"
                                                            k-auto-bind="false"
                                                            k-data-source="listFilter" />
                                                    </div>
                                                </div>
                                                <div class="grid_3">

                                                    <label c-label c-label-text="Bulan" real></label>
                                                    <div class="grid_12">
                                                        <input style="width: 100%"
                                                            k-ng-model='kontrol.bulan' kendo-date-picker
                                                            k-format="'MM-yyyy'" k-options="{ start: 'year', depth: 'year' }" />
                                                    </div>
                            
                                                </div>
                                                <div class="grid_1" style="margin-top: 20px">
                                                    <button class="k-button k-primary k-button-icon" ng-click="cariRencana()">
                                                        <span class="k-sprite k-icon k-i-search ">Find</span>
                                                    </button>
                                                </div>
                                                <div class="grid_12">
                                                    <kendo-grid id="kGrids" data-source="dataSourceSPRI" options="columnSPRI" k-pageable="'true'"
                                                    k-sortable="'true'" k-resizable="'true'" k-ng-model="dataSPRI">
                                                </kendo-grid>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </md-content>
                            </md-tab>
                            <md-tab label="Buat Baru">
                                <md-content class="md-padding">
                                    <div class="panel panel-default container_12" style="padding: 0px 10px;">
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;text-align:right;">
                                                <label c-label>Pilih</label>
                                            </div>
                                            <div class="grid_6">
                                                <div class="grid_4" ng-repeat="stat in listJenis | orderBy:'name'" style="margin-top: 5px;">
                                                    <md-radio-group ng-model="kontrol.jenisPelayanan" ng-change="resetForm()">
                                                        <md-radio-button ng-value="stat" class="md-primary">{{stat.name}}
                                                        </md-radio-button>
                                                    </md-radio-group>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="grid_12" ng-if="kontrol.jenisPelayanan.id == '2'">
                                            <div class="grid_3" style="margin-top: 10px;text-align:right;">
                                                <label c-label item="item">No SEP</label>
                                            </div>
                                            <div class="grid_6">
                                                <input c-text-box type="input" filter="" class="k-textbox" ng-model="kontrol.sep" />
                                            </div>
                                        </div>
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;text-align:right;">
                                                <label c-label item="item">Tgl Rencana Kontrol / Inap</label>
                                            </div>
                                            <div class="grid_6">
                                                <input style="width: 100%"
                                                k-ng-model='kontrol.tglRencanaKontrol'
                                                kendo-date-picker
                                                k-format="'yyyy-MM-dd'"
                                                k-on-change="getJadwalDok(kontrol.poliKontrol)" />
                                            </div>
                                        </div>
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;text-align:right;">
                                                <label c-label item="item">Spesialis / SubSpesialis</label>
                                            </div>
                                            <div class="grid_6">
                                                <input kendo-combo-box
                                                k-ng-model="kontrol.poliKontrol"
                                                k-data-text-field="'namaruangan'"
                                                k-filter="'contains'"
                                                k-data-value-field="'id'"
                                                k-auto-bind="false"
                                                k-on-change="getJadwalDok(kontrol.poliKontrol)"
                                                k-data-source="ruangans" />
                                            </div>
                                        </div>
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;text-align:right;">
                                                <label c-label item="item">DPJP Tujuan Kontrol / Inap</label>
                                            </div>
                                            <div class="grid_6">
                                                <input style="width: 100%; "
                                                kendo-combo-box
                                                k-ng-model="kontrol.kodeDokter"
                                                k-data-text-field="'nama'"
                                                k-filter="'contains'"
                                                k-data-value-field="'kode'"
                                                k-auto-bind="false"
                                                k-data-source="listDPJP" />
                                            </div>
                                        </div>
                                        <div class="grid_12" style="margin-top:10px">
                                            <div class="grid_3"></div>
                                            <div class="grid_9">
                                                <button class="k-button k-button-icontext k-primary k-grid-update" ng-click="saveSPRI()" ng-hide="isSaves">
                                                    <span class="k-icon k-update"></span>Simpan 
                                                </button>
                                                <button class="k-button k-button-icontext k-grid-cancel" ng-click="batalSPRI()">
                                                    <span class="k-icon k-cancel"></span>Batal
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </md-content>
                            </md-tab>
                        </md-tabs>
                    </md-content>
                </div>
            </div>

        </div>
        <div ng-include=' "../app/template/Shared/TemplateLoading" '></div>
    </c-form>
</div>


<div kendo-window="popUpRuj" k-title="'Form Rujukan '" k-width="1150" k-visible="false" k-on-open="win2visible = true"
    k-on-close="win2visible = false">
    <div class="panel panel-default container_12" style="padding: 10px 10px;">
        <div ng-cloak>
            <md-content>
                <md-tabs md-dynamic-height md-border-bottom>
                    <md-tab label="Pembuatan Rujukan">
                        <md-content class="md-padding">
                            <div class="panel panel-default container_12">
                                <div class="panel-body">
                                    <div class="grid_12">
                                        <div class="grid_3" style="margin-top: 10px;">
                                            <label class="c-label">Masukan No SEP</label>
                                        </div>
                                        <div class="grid_3">
                                            <input c-text-box type="input" class="k-textbox" ng-model="rujukan.SEP"
                                                placeholder="No SEP">
                                        </div>
                                        <div class="grid_3" style="margin-top: 5px;">
                                            <button class="k-button btnSimpan k-button-icontext"
                                                ng-click="cariRujukan2()"><span
                                                    class="k-icon k-i-search"></span>Cari</button>
                                        </div>
                                    </div>
                                    <div ng-show="isRujukan">
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;">
                                                <label class="c-label">Tgl Rujukan</label>
                                            </div>
                                            <div class="grid_3">
                                                <input style="width: 100%" k-ng-model="rujukan.tglRujukan"
                                                    kendo-date-picker placeholer="yyyy-MM-dd" k-format="'yyyy-MM-dd'"
                                                    parsedate="yyyy-MM-dd" />
                                            </div>
                                        </div>
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;">
                                                <label class="c-label">Tgl Rencana Kunjungan</label>
                                            </div>
                                            <div class="grid_3">
                                                <input style="width: 100%" k-ng-model="rujukan.tglRencanaKunjungan"
                                                    kendo-date-picker placeholer="yyyy-MM-dd" k-format="'yyyy-MM-dd'"
                                                    parsedate="yyyy-MM-dd" />
                                            </div>
                                        </div>
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;">
                                                <label class="c-label">Pelayanan</label>
                                            </div>
                                            <div class="grid_9">
                                                <input kendo-combo-box="combobox" tyle="width:100%"
                                                    k-ng-model="rujukan.pelayanan" k-data-text-field="'nama'"
                                                    k-data-value-field="'kode'" k-filter="'contains'"
                                                    k-auto-bind="false" k-data-source="listPel" />
                                            </div>
                                        </div>
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;">
                                                <label class="c-label">Tipe</label>
                                            </div>
                                            <div class="grid_9">
                                                <div ng-repeat="stat in listTipeRujukan | orderBy:'kode'">
                                                    <div class="grid_2">
                                                        <md-radio-group ng-model="rujukan.tipe">
                                                            <md-radio-button value="{{stat.kode}}" class="md-primary">
                                                                {{stat.nama}}
                                                            </md-radio-button>
                                                        </md-radio-group>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;">
                                                <label class="c-label">Diagnosa</label>
                                            </div>
                                            <div class="grid_9">

                                                <input kendo-combo-box="combobox" tyle="width:100%"
                                                    k-ng-model="rujukan.diagnosa" k-data-text-field="'nama'"
                                                    k-data-value-field="'kode'" k-filter="'contains'"
                                                    k-auto-bind="false" k-data-source="listDiagna"
                                                    k-options="comboBoxOptions4" />
                                            </div>
                                        </div>

                                        <div class="grid_12" ng-show="rujukan.tipe == 2">
                                            <div class="grid_3" style="margin-top: 10px;">
                                                <label class="c-label">Dirujuk Ke</label>
                                            </div>
                                            <div class="grid_9">
                                                <input c-text-box type="input" class="k-textbox"
                                                    ng-model="rujukan.rujukFaskes">
                                            </div>
                                        </div>
                                        <div class="grid_12" ng-show="rujukan.tipe == 0|| rujukan.tipe == 1">
                                            <div class="grid_3" style="margin-top: 10px;">
                                                <label class="c-label">Dirujuk Ke</label>
                                            </div>
                                            <div class="grid_9">
                                                <input kendo-combo-box="combobox" tyle="width:100%"
                                                    k-ng-model="rujukan.faskes" k-data-text-field="'nama'"
                                                    k-data-value-field="'kode'" k-filter="'contains'"
                                                    k-auto-bind="false" k-data-source="listFaskesRuj"
                                                    k-options="comboBoxOptions3" />
                                            </div>
                                        </div>
                                        <div class="grid_12" ng-show="rujukan.tipe == 0 ">
                                            <div class="grid_3" style="margin-top: 10px;">
                                                <label class="c-label">Spesialis/Subspesialis</label>
                                            </div>
                                            <div class="grid_9">
                                                <input kendo-combo-box="combobox" tyle="width:100%"
                                                    k-ng-model="rujukan.poli" k-data-text-field="'nama'"
                                                    k-data-value-field="'kode'" k-filter="'contains'"
                                                    k-auto-bind="false" k-data-source="listPolina"
                                                    k-options="comboBoxOptions2" />
                                            </div>
                                        </div>
                                        <div class="grid_12">
                                            <div class="grid_3" style="margin-top: 10px;">
                                                <label class="c-label">Catatan</label>
                                            </div>
                                            <div class="grid_9">
                                                <textarea ng-model="rujukan.catatan" type="string" class="k-textbox"
                                                    row="2" style="width:100%; margin-top:5px"></textarea>
                                            </div>
                                        </div>


                                        <div class="grid_12">
                                            <div class="k-edit-buttons  k-state-default pull-right"
                                                style="margin-top:10px">
                                                <div class="grid_6">
                                                    <button class="k-button btnSimpan k-button-icontext"
                                                        ng-click="saveRujuk()" ng-hide="isSave"><span
                                                            class="k-icon k-update"></span>Simpan</button>
                                                </div>
                                                <div class="grid_6">
                                                    <button class="k-button btnHapus k-button-icontext"
                                                        ng-click="tutupRujuk()"><span
                                                            class="k-icon k-cancel"></span>Tutup</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </md-content>
                    </md-tab>
                    <md-tab label="List Rujukan |">
                        <div class="panel panel-default container_12">
                            <div class="panel-body">
                                <div class="grid_12">
                                    <div class="grid_4">
                                        <div class="grid_12">
                                            <label c-label item="item" style="width: 100%"
                                                c-label-text="Periode Rujukan"></label>
                                        </div>
                                        <div class="clear"></div>

                                        <div class="grid_12">
                                            <div class="grid_6 padDatePicker">
                                                <input style="width: 100%" k-ng-model="rujukan.dari" kendo-datepicker
                                                    placeholer="yyyy-MM-dd" k-format="'yyyy-MM-dd'"
                                                    parsedate="yyyy-MM-dd" />
                                            </div>

                                            <div class="grid_6 padDatePicker">
                                                <input style="width: 100%" k-ng-model="rujukan.sampai" kendo-datepicker
                                                    placeholer="yyyy-MM-dd" k-format="'yyyy-MM-dd'"
                                                    parsedate="yyyy-MM-dd" />
                                            </div>
                                            <div class="clear"></div>
                                        </div>
                                    </div>
                                    <div class="grid_1">
                                        <div class="grid_12">
                                            <label>&nbsp;</label>
                                        </div>
                                        <div class="clear"></div>

                                        <div class="grid_12">
                                            <button class="btnTemplate1" style="margin-left: 0;"
                                                ng-click="cariRujukanList()"><i class="fa fa-search"></i>Cari</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="grid_12">
                                    <kendo-grid id="kGrid" data-source="dataSourceRuj" options="columnGridRujukan"
                                        k-pageable="'true'" k-sortable="'true'" k-resizable="'true'"
                                        k-selectable="'row'" 
                                      ></kendo-grid>
                                </div>


                            </div>
                        </div>
                    </md-tab>
                </md-tabs>
            </md-content>
        </div>
    </div>
</div>
<div id="copyNoSep" ng-show="isHidecopysep"></div>
<style>
    .k-grid .k-grid-header .k-header .k-link {
        height: auto;
    }

    .k-grid .k-grid-header .k-header {
        white-space: normal;
    }

    .k-grid .k-grid-header .k-header {
        text-align: center;
    }

    .custom-button {
        margin: 0 0 10px;
        background: none;
        color: black;
        border-radius: 0.8em;
        border: 1px solid;
        background-color: white;
    }

    .green {
        background-color: #98FB98;
        color: #000000;
        /*font-weight: bold;*/
    }

    .red {
        background-color: #ff3860;
        color: #FFFFFF;
        /*font-weight: bold;*/
    }
</style>