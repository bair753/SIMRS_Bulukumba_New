<style>
	button:disabled {
		background: #B5B2B1;
	}
</style>
<div ng-show="dataVOloaded">
	<div class="panel panel-default">
		<div class="panel-heading">
			<span class="title" c-translate>Permohonan Cuti Pegawai</span>

		</div>


		<div class="panel-body" ng-hide="klikRiwayat">
			<!-- <div class="grid_12 headerBox"><p>Filter Data</p></div> -->
			<div class="grid_12">
				<!-- Nama -->
				<div class="grid_2">
					<label c-label item="item" c-label-text="Nama"></label>
					<input id="category" c-text-box type="input" filter="'varchar'" class="k-textbox"
						ng-model="item.qnamaPegawai"
						ng-keypress="($event.which == 13)? SearchEnter():item.qnamaPegawai" />
				</div>

				<!-- <div class="grid_2" ng-disabled="true">
					<label c-label item="item" c-label-text="Unit Kerja"></label>
					<input style="width: 100%;" kendo-combo-box k-ng-model="item.qunitKerja" k-data-text-field="'name'"
						k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="false"
						k-data-source="listUnitKerja" k-on-change="getIsiComboSubUnit()" />
				</div>
			
				<div class="grid_2">
					<label c-label item="item" c-label-text="SubUnitKerja"></label>
					<input style="width: 100%;" kendo-combo-box k-ng-model="item.qsubUnitKerja"
						k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="false"
						k-data-source="listSubUnit" />
				</div> -->
				<!-- Kedudukan pegawai -->
				<div class="grid_2">
					<label c-label item="item" c-label-text="StatusPegawai"></label>
					<input style="width: 100%;" kendo-combo-box k-ng-model="item.qkedudukanPegawai"
						k-data-text-field="'statuspegawai'" k-data-value-field="'id'" k-filter="'contains'"
						k-auto-bind="false" k-data-source="ListKedudukanPegawai" />
				</div>
				<!-- status pegawai -->
				<div class="grid_2">
					<label c-label item="item" c-label-text="KategoryPegawai"></label>
					<input style="width: 100%;" kendo-combo-box k-ng-model="item.qstatusPegawai"
						k-data-text-field="'kategorypegawai'" k-data-value-field="'id'" k-filter="'contains'"
						k-auto-bind="false" k-data-source="ListStatusPegawai" />
				</div>

				<!-- Tanggal Masuk -->
				<div class="grid_1">
					<label c-label item="item" c-label-text="TanggalMasuk"></label>
					<input kendo-date-picker k-ng-model="item.tglMasuk" k-options="monthSelectorOptions"
						k-format="'MM-yyyy'" style="width: 100%" />
				</div>
				<div class="grid_2">
					<label c-label item="item" c-label-text="Status Permohonan"></label>
					<input style="width: 100%;" kendo-combo-box k-ng-model="item.qPermohonan" k-data-text-field="'name'"
						k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="false"
						k-data-source="listStatusCuti" />
				</div>
				<div class="grid_1">
					<label c-label item="item" c-label-text="Persetujuan"></label>
					<input style="width: 100%;" kendo-combo-box k-ng-model="item.qstatusApprove"
						k-data-text-field="'name'" k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="false"
						k-data-source="listApprove" />
				</div>
				<div class="grid_1">
					<label c-label item="item" c-label-text="Rows"></label>
					<input id="category" c-text-box type="input" filter="'varchar'" class="k-textbox"
						ng-model="item.qRows"
				 />
				</div>
				<div class="grid_1">
					<label c-label c-label-text=""></label>
					<em style="margin-top:6px;" ng-click='cari()' id="iconButton" data-role="button"
						class="k-button k-button-icon k-primary" role="button" aria-disabled="false" tabindex="0"><span
							class="k-sprite k-icon k-i-search">Refresh</span></em>
					<em style="margin-top:6px;" ng-click='resetFilters()' id="iconButton" data-role="button"
						class="k-button k-button-icon k-primary" role="button" aria-disabled="false" tabindex="0"><span
							class="k-sprite k-icon k-i-cancel">Refresh</span></em>
				</div>
			</div>

		</div>

	</div>



	<div class="panel panel-default">

		<!-- <div class="panel-header"><h3>Daftar Pengajuan Cuti</h3></div> -->
		<div class="panel-body">
			<div class="grid_12 borderBox">
				<kendo-grid id="gridPermohonanStatus" options="mainGridOptions" k-scrollable="false"
					k-data-source="dataSource"></kendo-grid>
			</div>
		</div>
	</div>

	<!-- <div class="grid_5">
		<div class="grid_3">
			<label c-label item="item" style="margin-top: 10px">Cari Nama Pegawai</label>
		</div>
		<div class="grid_9">
			<input c-text-box type="input" filter="" class="k-textbox" ng-model="item.cariDaftarPengajuanCuti" />
		</div>
	</div> -->

	<!-- <div class="grid_1" style="margin-top:1px">
		<button class="c-button" ng-click="cari()">Cari</button>
	</div> -->


	<div ng-include=' "../app/template/Shared/TemplateLoading" '></div>
</div>

<div kendo-window="winDialogBaru" k-title="'Cuti'" k-width="1200" k-visible="false">
	<div class="panel panel-default container_12" style="padding: 0px 10px;">
		<div class="grid_6">
			<div class="grid_12" ng-show="isShow">
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">No Permohonan</label>
				</div>
				<div class="grid_9">
					<input c-text-box type="input" filter="" class="k-textbox" ng-model="item.noUsulan"
						disabled="true" />
				</div>
			</div>
		
			<div class="grid_12">
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">Nama Pegawai</label>
				</div>
				<div class="grid_9">
					<input style="width: 100%;" kendo-combo-box k-ng-model="item.namaPegawai"
					 k-data-text-field="'namalengkap'" k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="true" k-data-source="listPegawai" 
					 k-on-change="getDetailPegawai(item.namaPegawai)" ng-disabled="bukanLoginSDM" />
				</div>
			</div>
			<div class="grid_12" >
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">NIP</label>
				</div>
				<div class="grid_9">
					<input c-text-box type="input" filter="" class="k-textbox" ng-model="item.nip" disabled="true" />
				</div>
			</div>
			<div class="grid_12" ng-show="isShow">
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">Jabatan</label>
				</div>
				<div class="grid_9">
					<input c-text-box type="input" filter="" class="k-textbox" ng-model="item.jabatan" disabled="true" />
				</div>
			</div>
			<div class="grid_12" ng-show="isShow">
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">Sub Unit Kerja</label>
				</div>
				<div class="grid_9">
					<input c-text-box type="input" filter="" class="k-textbox" ng-model="item.ruangan" disabled="true" />
				</div>
			</div>
		
			<div class="grid_12">
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">Tanggal Pengajuan</label>
				</div>
				<div class="grid_9">
					<input style="width: 100%" kendo-date-picker k-ng-model="item.tglPengajuan" data-k-format="'yyyy-MM-dd'" />
				</div>
			</div>
			<div class="grid_12">
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">Deskripsi Permohonan</label>
				</div>
				<div class="grid_9">
					<textarea style="height: 70px" c-text-box type="input" class="k-textbox"
						ng-model="item.deskripsiUsulan" />
					</div>
			</div>
		</div>
		<div class="grid_6">
		
		
			<div class="grid_12">
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">Status Permohonan</label>
				</div>
				<div class="grid_9">
					<input style="width: 100%;" kendo-combo-box k-ng-model="item.statusPegawai" k-data-text-field="'name'" 
					k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="false" k-data-source="listStatusCuti" k-on-change="showJumlahCuti()"/>
				</div>
			</div>
		
			<div class="grid_12" ng-show="isShow">
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">Keterangan Lainnya</label>
				</div>
				<div class="grid_9">
					<textarea style="height: 90px" c-text-box type="input" class="k-textbox" ng-model="item.keterangan" />
				</div>
			</div>
		
			<div class="grid_12">
				
				<div class="grid_3"  >
						<label c-label item="item" style="margin-top: 10px">Tanggal Permohonan</label>
				</div>

				<div class="grid_4">
					<input style="width: 100%" k-ng-model="item.tglAwalCuti" kendo-datepicker
					placeholer="yyyy-MM-dd" k-format="'yyyy-MM-dd'"  />
				</div>

				<div class="grid_1">
					<label c-label item="item" style="margin-top: 10px"> &nbsp; sd</label>
				</div>
				<div class="grid_4" >
				
					<input style="width: 100%" k-ng-model="item.tglAkhirCuti" kendo-datepicker 
					placeholer="yyyy-MM-dd" k-format="'yyyy-MM-dd'"/>
				</div>

			</div>
			<div class="grid_12" >
				<div class="grid_3">
					<label c-label item="item" style="margin-top: 10px">Jumlah</label>
				</div>
				<div class="grid_9">
					<input c-text-box type="input" filter="" class="k-textbox" ng-model="item.jumlahHari" disabled="true" />
				</div>
			</div>
			<div class="grid_12">
			
				<!-- <div class="grid_4" data-ng-repeat="tanggal in tanggalPermohonan" > 
					<div class="grid_8">
						<input style="width:100%" kendo-date-picker k-ng-model="tanggal.tgl" k-options="datePickerOptions"/>
					</div>
					<div class="grid_4" style="margin-top: 6px;">
						<kendo-button icon="'k-icon k-i-close'" ng-click='removeNewTgl(tanggal.id)'></kendo-button>
						<kendo-button ng-show='showAddTgl(tanggal)' icon="'k-icon k-i-plus'" ng-click='addNewTgl()'></kendo-button>
					</div>

					<div class="clearfix"></div>
					<div class="grid_12" ng-show="{{tanggal.isDuplicate}}">
						<label class="duplicateDate">tanggal yang diajukan tidak boleh sama</label>
					</div>
				</div> -->
			
			</div>
		</div>
		<div class="k-edit-buttons  k-state-default pull-right" style="margin-top:10px">
				<button class="k-button  k-button-icontext k-primary k-grid-update" ng-click="Simpan()"><span
						class="k-icon k-update"></span>Simpan</button>
				<button class="k-button  btnHapus k-button-icontext" ng-click="Batal()"><span
						class="k-icon k-cancel"></span>Batal</button>
			</div>
		</div>
	
</div>
<div kendo-window="winDialogVerif" k-title="'Verifikasi Cuti'" k-width="800" k-visible="false">
		<div class="panel panel-default container_12" style="padding: 0px 10px;">
			<fieldset style="border-radius: 10px;">
				<legend><input type="checkbox" class="k-checkbox" name="cekAll" id="cekAll" 
					ng-click="ceklisAllVerif(item.ceklisAll)" ng-model="item.ceklisAll" />
					<label c-label class="k-checkbox-label" for="cekAll" >Ceklis All</label > </legend>
				
				<div class="grid_12">
						<div class="grid_3">
							<label c-label item="item" style="margin-top: 10px">Tanggal Permohonan</label>
						</div>
						<div class="grid_9">
							<div class="grid_4" ng-repeat="tanggal in listTglCekbox" style="margin:5px 0 10px">
								<input type="checkbox" class="k-checkbox" name="{{tanggal.norec}}" id="{{tanggal.norec}}" 
								ng-click="toogleCheckVerifikasi(tanggal)" ng-model="tanggal.verif" />
								<label c-label class="k-checkbox-label" for="{{tanggal.norec}}" >{{tanggal.tgl}}</label >
							
							</div>
							<div class="grid_12"><span class="italic">*<b>Catatan:</b> Pilih tanggal yang akan di verifikasi</span></div>
						</div>
					</div>
				
			<div class="k-edit-buttons  k-state-default pull-right" style="margin-top:10px">
					<button class="k-button  k-button-icontext k-primary k-grid-update" ng-click="saveVerif()"><span
							class="k-icon k-update"></span>Simpan</button>
					<button class="k-button  btnHapus k-button-icontext" ng-click="batalVerif()"><span
							class="k-icon k-cancel"></span>Batal</button>
				</div>
			</div>
		</fieldset>
		
	</div>
	
	<div kendo-window="winCutiBersama" k-title="'Cuti Bersama'" k-width="800" k-visible="false">
			<div class="panel panel-default container_12" style="padding: 0px 10px;">
				<fieldset style="border-radius: 10px;">
						<div class="grid_12">
			
								<div class="grid_4" data-ng-repeat="tanggal in tanggalPermohonanBersama" > 
									<div class="grid_8">
										<input style="width:100%" kendo-date-picker k-ng-model="tanggal.tgl" k-options="datePickerOptions2"/>
									</div>
									<div class="grid_4" style="margin-top: 6px;">
										<kendo-button icon="'k-icon k-i-close'" ng-click='removeNewTglBersama(tanggal.id)'></kendo-button>
										<kendo-button ng-show='showAddTgl2(tanggal)' icon="'k-icon k-i-plus'" ng-click='addNewTglBersama()'></kendo-button>
									</div>
				
									<div class="clearfix"></div>
									<div class="grid_12" ng-show="{{tanggal.isDuplicate}}">
										<label class="duplicateDate">tanggal yang diajukan tidak boleh sama</label>
									</div>
								</div>
							
							</div>
					
				<div class="k-edit-buttons  k-state-default pull-right" style="margin-top:10px">
						<button class="k-button  k-button-icontext k-primary k-grid-update" ng-click="saveCutiBersama()"><span
								class="k-icon k-update"></span>Simpan</button>
						<button class="k-button  btnHapus k-button-icontext" ng-click="batalCutiBersama()"><span
								class="k-icon k-cancel"></span>Batal</button>
					</div>
				</div>
			</fieldset>
			
		</div>
		

<div kendo-window="winDialog" k-title="'Cetak Permohonan Cuti'" k-width="400" k-height="320" k-visible="false">
	<!--<div class="k-demo k-content container">-->
	<label c-label item="item" c-label-text="Bulan"></label>
	<input kendo-date-picker k-ng-model="currentData.until" k-format="'MMM-yyyy'" k-options="monthSelectorOptions"
		k-auto-bind="true" style="width: 100%;">
	<br />
	<br />
	<label c-label item="item" c-label-text="Kepala Ruangan"></label>
	<input style="width: 100%;" kendo-combo-box k-ng-model="currentData.kepalaRuangan" k-data-text-field="'nama'"
		k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="true" k-data-source="listKaRuangan" />
	<br />
	<br />
	<label c-label item="item" c-label-text="Atasan 1 / Penandatangan"></label>
	<input style="width: 100%;" kendo-combo-box k-ng-model="currentData.atasanLangsung"
		k-data-text-field="'namaLengkap'" k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="true"
		k-data-source="listPegawai" />
	<br />
	<br />
	<label c-label item="item" c-label-text="Jabatan"></label>
	<!-- <input c-text-box type="input" filter="" class="k-textbox" ng-model="currentData.jabatanAtasanLangsung" disabled="true"/> -->
	<input style="width: 100%;" kendo-combo-box k-ng-model="currentData.jabatanAtasanLangsung"
		k-data-text-field="'namaJabatan'" k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="true"
		k-data-source="listJabatan1" />
	<br />
	<br />
	<br />
	<label c-label item="item" c-label-text="Atasan 2 / Penandatangan"></label>
	<input style="width: 100%;" kendo-combo-box k-ng-model="currentData.pejabatPenilai"
		k-data-text-field="'namaLengkap'" k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="true"
		k-data-source="listPegawai" />
	<br />
	<br />
	<label c-label item="item" c-label-text="Jabatan"></label>
	<!-- <input c-text-box type="input" filter="" class="k-textbox" ng-model="currentData.jabatanPejabatPenilai" disabled="true"/> -->
	<input style="width: 100%;" kendo-combo-box k-ng-model="currentData.jabatanPejabatPenilai"
		k-data-text-field="'namaJabatan'" k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="true"
		k-data-source="listJabatan2" />
	<br />
	<br />
	<div class="grid_12">
		<button class='k-button btnHapus pull-right' ng-click='cancelData()'>Batal</button>
		<button class='k-button btnEdit pull-right' ng-click='cetakPermohonan(currentData)'>Cetak</button>
	</div>
</div>
<div kendo-window="winCetakPelimpahan" k-title="'Cetak Pelimpahan Tugas'" k-width="400" k-height="200"
	k-visible="false">
	<label c-label item="item" c-label-text="Dilimpahkan kepada"></label>
	<input style="width: 100%;" kendo-combo-box k-ng-model="currentData.pegawaiDilimpah"
		k-data-text-field="'namaLengkap'" k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="true"
		k-data-source="listPegawai" />
	<br />
	<br />
	<label c-label item="item" c-label-text="Sebagai (Jabatan yang dilimpahkan)"></label>
	<input style="width: 100%;" kendo-combo-box k-ng-model="currentData.jabatanPelimpah"
		k-data-text-field="'namaJabatan'" k-data-value-field="'id'" k-filter="'contains'" k-auto-bind="true"
		k-data-source="listJabatan1" />
	<br />
	<br />
	<br />
	<div class="grid_12">
		<button class='k-button btnHapus pull-right' ng-click='cancelData()'>Batal</button>
		<button class='k-button btnEdit pull-right' ng-click='cetakPelimpahan(currentData)'>Cetak</button>
	</div>
</div>
<style type="text/css">
	.custom-button {
		margin: 0 0 10px;
		background: none;
		color: black;
		border-radius: 0.8em;
		border: 1px solid;
		background-color: white;
	}

	.k-edit,
	.k-i-download {
		background-position: -313px -221px;
	}

	a.k-button.k-button-icontext {
		min-width: 84px;
		background-color: #e0360b;
		border: none;
		margin: .1em;
	}

	k-button.k-button-icontext.k-grid-Cetak {
		min-width: 84px;
		background-color: #e0360b;
		border: none;
		margin: .1em;
	}

	.duplicateDate {
		background-color: red;
		border: 2px solid red !important;
	}

	span.errorCuti {
		text-align: center;
		width: 100%;
		padding: 10px 20px;
		color: red;
		font: italic 14px/30px arial, sans-serif;
	}
	.md-dialog-container, md-dialog {
    display: -webkit-box;
    display: -webkit-flex;
    display: flex;
    z-index: 200000;
}
</style>